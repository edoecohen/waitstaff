<!DOCTYPE html>

<html>
<head>
	<title>Waitstaff Calculator</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="style.css" />
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js"></script>
	<script src="app.js"></script>
</head>
	
<body ng-app='app' ng-controller='MainCtrl'>

	<div class="container">
		
		<div class="header">
			<img src="images/waiter.png">
			<h1>Waitstaff Calculator</h1>
		</div>
		
		<!-- MEAL DETAILS -->
		<div class="mealDetails box col-md-6">
			<h2>Enter the Meal Details</h2>

			<div class="alert alert-danger" role="alert" ng-if="mealForm.$submitted && mealForm.mealPrice.$error.required || mealForm.taxRate.$error.required || mealForm.tipPer.$error.required" ng-show='errorShow'>Please enter numbers in all fields before submitting.</div>
			<div class="alert alert-danger" role="alert" ng-if="mealForm.$submitted && mealForm.mealPrice.$error.number || mealForm.taxRate.$error.number || mealForm.tipPer.$error.number">Numbers only. Thanks!</div>

			<form name="mealForm" ng-submit='submit()' novalidate>
				<label>Base meal price:<br>$
					<input type='number' ng-model="mealPrice" name="mealPrice" placeholder="0.00" required>
				</label><br>

				<label>Tax rate:<br>
					<input type='number' ng-model="taxRate" name="taxRate" placeholder="00" required>%
				</label><br>

				<label>Tip percentage:<br>
					<input type='number' ng-model="tipPer" name="tipPer" placeholder="00" required>%
				</label><br>

				<button type="submit" class="btn btn-primary">Submit</button><br>
				<button ng-click="cancel()" class="btn btn-default" type="button">Cancel</button>
			</form>		

		</div>

		<!-- RESULTS -->
		<div class="results col-md-6">
			
			<!-- CUSTOMER CHARGES -->
			<div class="charges box">
				<h2>Customer Charges</h2>
				<ul>
					<li>Subtotal: {{subTotal}}</li>
					<li>Tip: {{thisTip}}</li>
					<li>Total: {{thisTotal}}</li>
				</ul>
			</div>	
		
			<!-- EARNINGS INFO -->
			<div class="earnings box">
				<h2>My Earnings Info</h2>
				<ul>
					<li>Tip total: {{tipTotal}}</li>
					<li>Meal count: {{mealCount}}</li>
					<li>Average tip per meal: {{avgTip}}</li>
				</ul>	
			</div>

			<button ng-click="reset()" class="btn btn-default reset">Reset</button>
			

		</div>		
	</div>

</body>
</html>